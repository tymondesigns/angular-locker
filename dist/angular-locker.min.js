/*! angular-locker v0.4.1 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(t,r){"use strict";r.module("angular-locker",[]).provider("locker",function(){var n=t.localStorage,e="locker",o=".",i=""===e?"":e+o,u=function(t,r){r=c(r);try{n.setItem(i+t,r)}catch(e){-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(e.name)?console.warn("angular-locker - Your browser storage quota has been exceeded"):console.warn('angular-locker - Could not add item with key "'+t+'"',e)}},c=function(t){try{return r.toJson(t)}catch(n){return t}},a=function(t){try{return r.fromJson(t)}catch(n){return t}},s=function(t){return n.hasOwnProperty(i+t)},f=function(t){return"function"==typeof t?t():t},h=function(t){return s(t)?(n.removeItem(i+t),!0):!1},l=function(r){return r=f(r),n="session"===r?t.sessionStorage:t.localStorage,this},g=function(){return n===t.localStorage?"local":"session"},d=function(t){return e=f(t),i=""===e?"":e+o,this},E=function(){return e};return{setStorageDriver:l,getStorageDriver:g,setNamespace:d,getNamespace:E,$get:function(){return{put:function(t,n){if(!t)return!1;if(t=f(t),r.isObject(t))r.forEach(t,function(t,r){u(r,t)});else{if(!n)return!1;n=f(n),u(t,n)}return this},add:function(t,r){return this.has(t)?!1:(this.put(t,r),!0)},get:function(t,e){if(r.isArray(t)){var o={};return r.forEach(t,function(t){this.has(t)&&(o[t]=this.get(t))},this),o}return this.has(t)?a(n.getItem(i+t)):e||void 0},has:s,pull:function(t,r){var n=this.get(t,r);return this.remove(t),n},all:function(){var t={};return r.forEach(n,function(r,n){var i=n.split(o);i.length>1&&i[0]===e&&(i.splice(0,1),n=i.join(o)),this.has(n)&&(t[n]=this.get(n))},this),t},remove:function(t){return r.isArray(t)?r.forEach(t,function(t){h(t)}):h(t),this},clean:function(){return r.forEach(n,function(t,r){h(r)}),this},empty:function(){return n.clear(),this},setStorageDriver:l,setNamespace:d}}}})}(window,window.angular);