/*! angular-locker v0.2.2 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(t,r){"use strict";r.module("angular-locker",[]).provider("locker",function(){var e=t.localStorage,n=".",o="locker",i=""===o?"":o+n,u=function(t,r){"string"!=typeof r&&(r=c(r));try{e[i+t]=r}catch(n){-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(n.name)?console.warn("locker - Your browser storage quota has been exceeded"):console.warn('locker - Could not add item with key "'+t+'"',n)}},c=function(t){try{return JSON.stringify(t)}catch(r){return t}},a=function(t){try{return JSON.parse(t)}catch(r){return t}},s=function(t){return e.hasOwnProperty(i+t)},f=function(t){return"function"==typeof t?t():t},l=function(t){return s(t)?(delete e[i+t],!0):!1},h=function(r){return r=f(r),e="session"===r?t.sessionStorage:t.localStorage,this},g=function(){return e===localStorage?"local":"session"},d=function(t){return o=f(t),i=""===o?"":o+n,this},p=function(){return o};return{setStorageDriver:h,getStorageDriver:g,setNamespace:d,getNamespace:p,$get:function(){return{put:function(t,e){if(!t)return!1;if(r.isObject(t))for(var n in t)u(n,t[n]);else{if(!e)return!1;e=f(e),u(t,e)}return this},add:function(t,r){return this.has(t)?!1:(this.put(t,r),!0)},get:function(t,r){return this.has(t)?a(e[i+t]):r||void 0},has:s,pull:function(t,r){var e=this.get(t,r);return this.remove(t),e},all:function(){var t={};for(var r in e){var n=r.split(".");n.length>1&&n[0]===o&&(n.splice(0,1),r=n.join("")),this.get(r)&&(t[r]=this.get(r))}return t},remove:function(t){return r.isArray(t)?t.forEach(function(t){l(t)}):l(t),this},clean:function(){for(var t in e)l(t);return this},empty:function(){return e.clear(),this},setStorageDriver:h,setNamespace:d}}}})}(window,window.angular);