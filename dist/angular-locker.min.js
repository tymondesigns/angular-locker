/*! angular-locker v0.6.3 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(t,e){"use strict";var r=function(t){return"function"==typeof t?t():t},i=function(i,n){this._driver=i,this._namespace=n,this._registeredDrivers={local:t.localStorage,session:t.sessionStorage},this._separator=".",this._getPrefix=function(t){return this._namespace+this._separator+t},this._resolveDriver=function(t){return this._registeredDrivers.hasOwnProperty(t)||console.warn('angular-locker - The driver "'+t+'" was not found. Defaulting to local.'),this._registeredDrivers[t]||this._registeredDrivers.local},this._serialize=function(t){try{return e.toJson(t)}catch(r){return t}},this._unserialize=function(t){try{return e.fromJson(t)}catch(r){return t}},this._setItem=function(t,e){try{this._driver.setItem(this._getPrefix(t),this._serialize(e))}catch(r){-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(r.name)?console.warn("angular-locker - Your browser storage quota has been exceeded"):console.warn('angular-locker - Could not add item with key "'+t+'"',r)}},this._getItem=function(t){return this._unserialize(this._driver.getItem(this._getPrefix(t)))},this._exists=function(t){return this._driver.hasOwnProperty(this._getPrefix(r(t)))},this._removeItem=function(t){return this._exists(t)?(this._driver.removeItem(this._getPrefix(t)),!0):!1}};i.prototype={put:function(t,i){if(!t)return!1;if(t=r(t),e.isObject(t))e.forEach(t,function(t,e){this._setItem(e,t)},this);else{if(!i)return!1;this._setItem(t,r(i))}return this},add:function(t,e){return this.has(t)?!1:(this.put(t,e),!0)},get:function(t,r){if(!e.isArray(t))return this.has(t)?this._getItem(t):2===arguments.length?r:void 0;var i={};return e.forEach(t,function(t){this.has(t)&&(i[t]=this._getItem(t))},this),i},has:function(t){return this._exists(t)},remove:function(t){return t=r(t),e.isArray(t)?e.forEach(t,function(t){this._removeItem(t)},this):this._removeItem(t),this},pull:function(t,e){var r=this.get(t,e);return this.remove(t),r},all:function(){var t={};return e.forEach(this._driver,function(e,r){var i=r.split(this._separator);i.length>1&&i[0]===this._namespace&&(i.splice(0,1),r=i.join(this._separator)),this.has(r)&&(t[r]=this.get(r))},this),t},clean:function(){return e.forEach(this._driver,function(t,e){this._removeItem(e)},this),this},empty:function(){return this._driver.clear(),this},count:function(){var t,e=this.all(),r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r},driver:function(t){return new i(this._resolveDriver(t),this._namespace)},namespace:function(t){return new i(this._driver,t)},supported:function(){var t="t";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}}},e.module("angular-locker",[]).provider("locker",function(){var e="local",n="locker",s={local:new i(t.localStorage,n),session:new i(t.sessionStorage,n)};return{setDefaultDriver:function(t){return e=r(t),this},getDefaultDriver:function(){return e},setDefaultNamespace:function(t){return n=r(t),this},getDefaultNamespace:function(){return n},$get:function(){return s[e]}}})}(window,window.angular);