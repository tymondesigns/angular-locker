/*! angular-locker v0.6.3 | (c) 2014 @tymondesigns | https://github.com/tymondesigns/angular-locker */
!function(t,r){"use strict";r.module("angular-locker",[]).provider("locker",function(){var n="locker",e=".",o=""===n?"":n+e,u={local:function(){return t.localStorage},session:function(){return t.sessionStorage}},i=u.local(),a=function(){var t="t";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(r){return!1}},c=function(t){try{return r.toJson(t)}catch(n){return t}},s=function(t){try{return r.fromJson(t)}catch(n){return t}},f=function(t){return"function"==typeof t?t():t},l=function(t,r){try{i.setItem(o+t,c(r))}catch(n){-1!==["QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED","QuotaExceededError"].indexOf(n.name)?console.warn("angular-locker - Your browser storage quota has been exceeded"):console.warn('angular-locker - Could not add item with key "'+t+'"',n)}},h=function(t){return i.hasOwnProperty(o+f(t))},g=function(t){return h(t)?(i.removeItem(o+t),!0):!1},d=function(t){return u.hasOwnProperty(f(t))?i=u[f(t)]():console.warn('angular-locker - The driver "'+t+'" does not exist. no action taken'),this},m=function(){return i===u.local()?"local":"session"},v=function(t){return n=f(t),o=""===n?"":n+e,this},p=function(){return n};return{setDefaultDriver:d,getDefaultDriver:m,setDefaultNamespace:v,getDefaultNamespace:p,$get:function(){return{put:function(t,n){if(!t)return!1;if(t=f(t),r.isObject(t))r.forEach(t,function(t,r){l(r,t)});else{if(!n)return!1;n=f(n),l(t,n)}return this},add:function(t,r){return this.has(t)?!1:(this.put(t,r),!0)},get:function(t,n){if(!r.isArray(t))return this.has(t)?s(i.getItem(o+t)):2===arguments.length?n:void 0;var e={};return r.forEach(t,function(t){this.has(t)&&(e[t]=this.get(t))},this),e},has:h,pull:function(t,r){var n=this.get(t,r);return this.remove(t),n},all:function(){var t={};return r.forEach(i,function(r,o){var u=o.split(e);u.length>1&&u[0]===n&&(u.splice(0,1),o=u.join(e)),this.has(o)&&(t[o]=this.get(o))},this),t},remove:function(t){return t=f(t),r.isArray(t)?r.forEach(t,function(t){g(t)}):g(t),this},clean:function(){return r.forEach(i,function(t,r){g(r)}),this},empty:function(){return i.clear(),this},count:function(){var t,r=this.all(),n=0;for(t in r)r.hasOwnProperty(t)&&n++;return n},driver:d,namespace:v,supported:a}}}})}(window,window.angular);